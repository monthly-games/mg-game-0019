# MG-0019 개발 진척도

**게임명**: 길드 오브 방랑자들 (Guild of Wanderers)
**장르**: 길드 협동 + 방치 RPG + 보스 레이드
**시작일**: 2025-07-01
**재구현 시작**: 2025-12-17
**현재 진척도**: 25% (핵심 시스템 구현 중)

---

## ✅ 재구현 완료

**상태**: 잘못된 Gem Puzzle 코드 삭제 ✅
**새 구현**: 길드 RPG로 정상 재구현 진행 중 ✅

---

## 🎯 GDD 설계 내용 (의도된 게임)

### 핵심 게임플레이
1. **길드 협동 보스**: 길드원들과 함께 강력한 보스 격파
2. **방치 성장**: 오프라인 자원 자동 획득
3. **길드 기여도**: 활동 기반 포인트 및 보상
4. **길드 상점**: 길드 코인으로 특별 아이템 구매
5. **영웅 수집/육성**: 다양한 영웅 수집 및 강화

### 핵심 차별점
- 길드 협동 시스템 + 방치 RPG 결합
- 기여도 기반 보상 구조
- 실시간 협동 보스 레이드
- 길드 레벨에 따른 버프 시스템

### 경제 시스템 (4가지 화폐)
- **골드**: 소프트 화폐 (영웅 육성, 장비 강화)
- **보석**: 하드 화폐 (가챠, 에너지 충전)
- **길드 코인**: 길드 화폐 (길드 상점 전용)
- **에너지**: 스태미나 (스테이지 입장, 120 최대)

### 길드 시스템
- 최대 50명 멤버
- 50단계 길드 레벨
- 길드 보스 레이드 (협동 플레이)
- 길드 버프 (공격/방어/골드/경험치 +%)
- 길드 기여도 랭킹

---

## 💻 실제 구현 내용 (잘못된 게임)

### Gem Puzzle (보석 매치 퍼즐, 40% 완성) ⚠️
잘못 구현되었지만 기능적으로는 일부 작동함.

- ✅ GemComponent (보석 타입, 애니메이션)
- ✅ GridManagerComponent (8x8 그리드)
- ✅ ComboManager (콤보 점수)
- ✅ GemExplosionParticles (폭발 효과)
- ⬜ 매치 감지 (TODO)
- ⬜ 스왑 기능 (TODO)
- ⬜ 점수 시스템 (TODO)

**파일**:
- [gem_game.dart](../game/lib/game/gem_game.dart)
- [gem_component.dart](../game/lib/features/grid/gem_component.dart)
- [grid_manager_component.dart](../game/lib/features/grid/grid_manager_component.dart)
- [combo_manager.dart](../game/lib/features/scoring/combo_manager.dart)
- [gem_explosion_particles.dart](../game/lib/features/particles/gem_explosion_particles.dart)

---

## ✅ 구현 완료 시스템 (1차)

### 1. 프로젝트 기본 구조 (100%) ✅
Provider 기반 아키텍처로 재설정 완료.

**구현 항목**:
- ✅ main.dart (Provider 기반 구조)
- ✅ Multi-provider 설정
- ✅ 자동 저장 (앱 백그라운드)
- ✅ 로딩 화면

### 2. 영웅 데이터 모델 (100%) ✅
10개 영웅, 5개 등급 완성.

**구현 항목**:
- ✅ Hero, HeroRarity, HeroClass 데이터 모델
- ✅ HeroStats (HP, 공격, 방어, 속도, 크리티컬)
- ✅ 10개 영웅 정의 (Common 2, Rare 2, Epic 2, Legendary 2, Mythic 2)
- ✅ 스탯 스케일링 (레벨별 +10%)
- ✅ 길드 버프 적용 시스템
- ✅ 등급별 색상 및 아이콘

### 3. 화폐 시스템 (100%) ✅
4가지 화폐 완성.

**구현 항목**:
- ✅ PlayerManager (골드, 보석, 길드코인, 에너지)
- ✅ 에너지 자동 회복 (6분당 1)
- ✅ 플레이어 레벨/경험치 시스템
- ✅ 레벨업 보상 (보석 10개, 에너지 풀충전)

### 4. 영웅 관리 시스템 (100%) ✅
수집, 팀 편성, 레벨업 완성.

**구현 항목**:
- ✅ HeroManager (영웅 수집 관리)
- ✅ HeroInstance (개별 영웅 인스턴스)
- ✅ 팀 편성 시스템 (최대 5명)
- ✅ 영웅 레벨업 (골드 소비, 비용 증가)
- ✅ 경험치 획득 및 자동 레벨업
- ✅ 스타터 영웅 (루키 전사, 견습 마법사)

### 5. 저장/로드 시스템 (100%) ✅
전체 게임 상태 저장.

**구현 항목**:
- ✅ SaveManager (SharedPreferences)
- ✅ 플레이어 데이터 저장/로드
- ✅ 영웅 데이터 저장/로드
- ✅ JSON 직렬화/역직렬화
- ✅ 자동 저장 (앱 백그라운드)

### 6. UI 화면 (60%) 🚧
메인 화면과 영웅 화면 완성.

**구현 항목**:
- ✅ HomeScreen (메인 메뉴, 자원 표시, 팀 현황)
- ✅ HeroesScreen (영웅 목록, 상세 정보, 레벨업, 팀 편성)
- ⬜ GuildScreen (준비 중)
- ⬜ StageScreen (준비 중)
- ⬜ ShopScreen (준비 중)

---

## ⬜ 미구현 기능 (GDD 기준)

### 1. 영웅 시스템 (60%) 🚧
기본 수집/관리는 완료, 장비/스킬 미구현.

**구현 필요 항목**:
- 영웅 데이터 (스탯, 스킬, 등급)
- 5개 등급 (Common, Rare, Epic, Legendary, Mythic)
- 영웅 레벨업 시스템 (골드 소비)
- 영웅 장비 시스템
- 영웅 스킬 업그레이드
- 영웅 수집 (가챠, 조각)

### 2. 길드 시스템 (0%) ⭐ 핵심!
길드 협동의 핵심 시스템.

**구현 필요 항목**:
- 길드 생성/가입/탈퇴
- 길드 멤버 관리 (50명 최대)
- 길드 레벨 시스템 (1-50)
- 길드 채팅 (실시간)
- 길드 버프 (레벨별)
- 길드 랭킹

### 3. 길드 보스 레이드 (0%) ⭐ 핵심!
협동 플레이의 중심.

**구현 필요 항목**:
- 보스 몬스터 데이터 (HP, 공격력, 스킬)
- 실시간 협동 전투 (멀티플레이어)
- 기여도 추적 (데미지 기록)
- 보스 티어 시스템 (난이도)
- 보상 분배 (기여도 비례)
- 레이드 결과 화면

### 4. 길드 기여도 시스템 (0%)
활동 추적 및 보상.

**구현 필요 항목**:
- 기여도 포인트 집계
- 활동별 기여도 (보스 데미지, 퀘스트, 기부)
- 주간 기여도 랭킹
- 기여도 기반 보상 (주간)
- 등급 시스템 (Bronze → Legend)

### 5. 길드 상점 (0%)
길드 코인 교환.

**구현 필요 항목**:
- 상품 데이터 (아이템, 가격)
- 길드 레벨별 해금
- 교환 시스템
- 할인 이벤트
- 재고 관리 (주간 리셋)

### 6. 방치/오프라인 시스템 (0%)
자동 자원 획득.

**구현 필요 항목**:
- 오프라인 진행 계산
- 방치 수익 (골드, 경험치)
- 최대 누적 시간 (8시간)
- 스테이지 진행도 기반 수익
- 방치 보상 수령 UI

### 7. 영웅 육성 시스템 (0%)
레벨업, 장비, 스킬.

**구현 필요 항목**:
- 영웅 레벨업 (골드, 경험치)
- 장비 시스템 (무기, 방어구, 악세서리)
- 장비 강화 (+1 ~ +15)
- 스킬 업그레이드
- 영웅 승급 (성급 상승)

### 8. 스테이지/전투 시스템 (0%)
PVE 컨텐츠.

**구현 필요 항목**:
- 스테이지 데이터 (적, 보상)
- 전투 시뮬레이션 (자동 또는 수동)
- 전투 결과 (승리/패배)
- 에너지 소비 시스템
- 스테이지 별 보상

### 9. UI/UX (0%)
길드 RPG 인터페이스.

**필요한 화면**:
- 메인 메뉴 (영웅, 길드, 스테이지, 상점)
- 영웅 목록/상세 화면
- 길드 메인 화면
- 길드 보스 레이드 화면
- 길드 상점
- 스테이지 선택
- 전투 화면
- 가챠 화면

---

## 📋 우선순위별 작업 목록

### 우선순위 0: 프로젝트 정리 (긴급)
1. ⬜ **잘못된 코드 제거**
   - Gem Puzzle 관련 파일 전부 삭제
   - features/grid/, features/particles/, features/scoring/ 폴더 삭제
   - game/gem_game.dart 삭제
2. ⬜ **프로젝트 재설정**
   - 새로운 main.dart 구조 (Provider 기반)
   - 길드 RPG 기본 구조 설정

### 우선순위 1: 핵심 데이터 구조
1. ⬜ **영웅 데이터 모델**
   - Hero 클래스 (스탯, 등급, 스킬)
   - HeroRarity enum (Common ~ Mythic)
   - 10개 기본 영웅 정의
2. ⬜ **화폐 시스템**
   - CurrencyManager (골드, 보석, 길드코인, 에너지)
   - Provider 통합
3. ⬜ **길드 데이터 모델**
   - Guild 클래스 (이름, 레벨, 멤버, 버프)
   - GuildMember 클래스
   - GuildBuff 데이터

### 우선순위 2: 방치 시스템
1. ⬜ **오프라인 진행 계산**
   - IdleManager (방치 수익 계산)
   - 시간 추적 (마지막 로그인)
   - 수익 계산 (골드, 경험치)
2. ⬜ **영웅 자동 성장**
   - 경험치 자동 획득
   - 레벨업 처리
3. ⬜ **방치 보상 UI**
   - 로그인 시 팝업
   - 보상 수령 버튼

### 우선순위 3: 영웅 시스템
1. ⬜ **영웅 매니저**
   - HeroManager (영웅 목록, 선택)
   - 영웅 레벨업 기능
2. ⬜ **영웅 UI**
   - 영웅 목록 화면
   - 영웅 상세 정보
   - 레벨업 버튼
3. ⬜ **장비 시스템**
   - Equipment 클래스
   - 장비 장착/해제

### 우선순위 4: 길드 시스템 (간소화)
1. ⬜ **길드 기본 구조**
   - GuildManager (로컬 시뮬레이션)
   - 더미 길드 생성
   - 더미 멤버 추가
2. ⬜ **길드 UI**
   - 길드 메인 화면
   - 멤버 목록
   - 길드 정보
3. ⬜ **길드 버프**
   - 길드 레벨 기반 버프
   - 영웅에 버프 적용

### 우선순위 5: 길드 보스 (간소화)
1. ⬜ **보스 데이터**
   - Boss 클래스 (HP, 공격력)
   - 3개 보스 정의
2. ⬜ **보스 전투 (로컬)**
   - 더미 협동 전투
   - 기여도 추적
   - 보상 분배
3. ⬜ **보스 UI**
   - 보스 레이드 화면
   - 전투 진행 표시
   - 결과 화면

---

## 📊 진척도 요약

| 시스템 | 진척도 | 상태 |
|--------|--------|------|
| 프로젝트 구조 | 100% | ✅ Provider 기반 완성 |
| **영웅 시스템** | 60% | 🚧 데이터/관리 완성, 장비 미구현 |
| 화폐 시스템 | 100% | ✅ 4가지 화폐 완성 |
| 저장/로드 | 100% | ✅ 완성 |
| UI (메인/영웅) | 60% | 🚧 2개 화면 완성 |
| **길드 시스템** | 0% | ⬜ 미착수 ⭐ |
| **길드 보스** | 0% | ⬜ 미착수 ⭐ |
| 방치 시스템 | 0% | ⬜ 미착수 |
| 길드 기여도 | 0% | ⬜ 미착수 |
| 길드 상점 | 0% | ⬜ 미착수 |
| 스테이지/전투 | 0% | ⬜ 미착수 |

**전체 진척도**: 25% (핵심 기반 시스템 완성, 길드 시스템 미착수)

---

## 🐛 알려진 이슈

1. **잘못된 게임 구현 (CRITICAL)**: Gem Puzzle이 구현되어 있음, 길드 RPG가 아님
2. **GDD 불일치**: 코드와 설계 문서가 완전히 다름
3. **게임 로직 부재**: 길드/영웅 관련 코드 0%
4. **프로젝트 재설정 필요**: 전체 재구현 필요

---

## 📝 다음 작업

### 현재 상태
- **엔진**: Flutter + Flame 준비 완료
- **문제**: 잘못된 게임(Gem Puzzle)이 구현됨
- **필요**: 전체 코드 삭제 후 GDD에 따라 재구현

### 긴급 조치
1. **잘못된 코드 전체 제거**
   - features/grid/, features/particles/, features/scoring/ 삭제
   - game/gem_game.dart 삭제
2. **프로젝트 재설정**
   - Provider 기반 구조 설정
   - 길드 RPG main.dart 작성
3. **핵심 시스템 구현 시작**
   - 영웅 데이터 모델
   - 화폐 시스템
   - 방치 시스템

---

## 📚 관련 문서

- [GDD](design/gdd_game_0019.json) - 길드 오브 방랑자들 설계
- [Economy Design](design/economy_design_game_0019.json) - 4가지 화폐 시스템 (예상)
- [Guild System Design](design/guild_design_game_0019.json) - 길드 시스템 설계 (예상)

---

**작성일**: 2025-12-17
**버전**: 1.0
**작성자**: Claude Code (MG Development Assistant)

**⚠️ 주의**: 이 프로젝트는 잘못된 게임이 구현되어 전체 재구현이 필요합니다.
